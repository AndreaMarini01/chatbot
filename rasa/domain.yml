version: '3.1'
intents:
- Richiesta_film_form
- SerieTV_recenti
- cerca_film_genere
- cerca_film_titolo
- cerca_film_titolo2
- cerca_serieTV_genere
- cerca_serieTV_titolo
- dove_guardare
- film_appena_usciti
- goodbye
- greet
- info_film
- inform
- inform_film
- inform_serie
- nlu_fallback
- popolarità_film
- popolarità_serieTV
- recensioni_utenti
- recensioni_utenti_serieTV
- affirm
- deny
- titolo_film_form
entities:
- titolo_film
- genere
- attore
- anno
- titolo_serieTV
- inform_film
- inform_serie
- genere_form
- anno_form
- titolo_film_form
- out_of_scope

slots:
  titolo_film:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: titolo_film
    - type: from_entity
      entity: titolo_serieTV

  titolo_film_form:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: titolo_film_form
        conditions:
          - active_loop: form_film
            requested_slot: titolo_film_form


  titolo_serieTV:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: titolo_serieTV
    - type: from_entity
      entity: titolo_film
  genere:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: genere
  genere_form:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_film
            requested_slot: genere_form
  attore:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: attore
  anno:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text

  anno_form:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_film
            requested_slot: anno_form
  context_ricerca:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
  tipo_contenuto:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text

forms:
  form_film:
    required_slots:
    - titolo_film_form
    - anno_form
    - genere_form

responses:
  utter_greet:
  - text: Ciao! Sono la tua guida cinematografica. Come posso aiutarti oggi?
  utter_goodbye:
  - text: A presto!
  utter_ask_titolo_film_form:
  - text: Su quale film vorresti informazioni?
  utter_no_results:
  - text: Non ho trovato nulla che corrisponda alla tua richiesta.
  utter_chiedi_film_o_serie:
  - text: Non ho capito se parli di un film o di una serie. Puoi specificare?
  utter_confermato_film:
  - text: Ok, quindi parli di un film. Dimmi il titolo.
  utter_confermato_serie:
  - text: Ok, quindi parli di una serie TV. Dimmi il titolo.
  utter_submit:
  - text: ok ecco le informazioni
  utter_ask_continue:
  - text: Vuoi sapere altro?
#  utter_ask_anno:
#  - text: Vuoi sapere anche l'anno di uscita?
  utter_ask_anno_form:
    - text: Vuoi sapere anche l'anno di uscita?
  utter_ask_genere_form:
  - text: Vuoi sapere anche il genere del film?
  utter_film_form:
  - text: eccoti le informazioni sul film
  utter_default:
    - text: "Non sono sicuro di aver capito. Puoi ripetere o spiegare meglio la tua richiesta?"
  utter_fallback:
    - text: "Mi dispiace, non ho capito. Puoi ripetere la tua richiesta?"
    - text: "Scusa, non ho capito. Puoi riformulare la tua domanda?"
  utter_out_of_scope:
    - text: "Non ho capito cosa intendi. Potresti ripetere? sono nell'out of scope"


actions:
- action_movie_details
- action_search_by_genre
- action_recent_releases
- action_where_to_watch
- movie_reviews
- popular_movies
- movies_by_genre
- action_recent_releases_TV
- action_TV_details
- TV_reviews
- popular_TV
- popolarità_serieTV
- action_set_context_title
- action_ask_movie_or_series
- TV_by_genre
- validate_form_film
- utter_submit
- utter_film_form
- action_provide_film_details
- action_reset_slots
- action_fallback